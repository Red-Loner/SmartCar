import upip
upip.install('micropython-mpu6050')
from machine import Pin, I2C
import time
import mpu6050

# ESP32的I2C引脚配置
i2c = I2C(scl=Pin(22), sda=Pin(21), freq=400000)

# 初始化MPU6050
accel = mpu6050.MPU6050(i2c)

def read_acceleration():
    accel.read_accel()
    x, y, z = accel.accel
    return x, y, z

while True:
    x, y, z = read_acceleration()
    print(f"Acceleration: X={x}, Y={y}, Z={z}")
    time.sleep(1)
